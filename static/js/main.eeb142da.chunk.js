(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{111:function(e,t,a){e.exports=a(139)},120:function(e,t,a){},137:function(e,t,a){},139:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),o=a.n(c),l=a(46),i=(a(120),a(30)),s=a(32),u=a(33),m=a(44),d=a(36),p=a(34),h=a(37),f=a(58),E=a(71),y=a(65),b=a.n(y),g=a(98),v=a.n(g),w=a(173),C=function(e){var t=e.icon;return"http://openweathermap.org/img/w/".concat(t,".png")},O=Object(w.a)(function(e){return{temperature:{flexGrow:"2",display:"flex",justifyContent:"center",alignItems:"center"}}}),j=function(e){var t=e.temperature,a=e.weatherState,n=O();return r.a.createElement("div",{className:n.temperature},r.a.createElement("img",{src:C(a),alt:"",className:"icon-img"}),r.a.createElement("h3",null,"  ".concat(t),r.a.createElement("span",{className:"tempDegrees"},"C\xba")))},S=Object(w.a)(function(e){return{extraInfo:{flexGrow:"1",color:"blue",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}}}),x=function(e){var t=e.humidity,a=e.wind,n=S();return r.a.createElement("div",{className:n.extraInfo},r.a.createElement("span",null,"Humidity: ".concat(t,"%")),r.a.createElement("span",null,"Wind: ".concat(a)))},D=Object(w.a)(function(e){return{root:{display:"flex",backgroundColor:"rgba(240, 240, 240, .5)",boxSizing:"border-box"}}}),k=function(e){var t=e.data,a=D(),n=t.temperature,c=t.weatherState,o=t.humidity,l=t.wind;return r.a.createElement("div",{className:a.root},r.a.createElement(j,{temperature:n,weatherState:c}),r.a.createElement(x,{humidity:o,wind:l}))},A=a(175),_=a(177),R=a(179),M=Object(w.a)(function(e){return{root:{margin:"1rem"}}}),I=function(e){e.weekDay;var t=e.hour,a=e.data,n=M();return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a,{className:n.root},r.a.createElement(_.a,{title:"".concat(t,":00")}),r.a.createElement(R.a,null,r.a.createElement(k,{data:a}))))},T=a(180),N=a(206),L=a(181),F=a(178),H=a(183),W=a(184),Y=a(176),P=a(182),U=Object(w.a)(function(e){return{paper:{padding:"1rem",textAlign:"center"},expansionPanelDetail:{flexDirection:"column"},actions:{textAlign:"left"}}}),B=function(e){var t=e.city,a=e.forecastExtendedData,n=U(),c=Object(s.g)(),o=r.a.createElement(T.a,null);if(a&&a[0]===t){var l=a[1].reduce(function(e,t){return e[t.weekDay]=[].concat(Object(E.a)(e[t.weekDay]||[]),[t]),e},{}),i=[];for(var u in l)i.push(Object(f.a)({},u,l[u]));o=i.map(function(e,t){var a;for(var c in e)a=c;return r.a.createElement(N.a,{key:a+t},r.a.createElement(L.a,{key:a+t,expandIcon:r.a.createElement(v.a,null),"aria-controls":a,id:a},r.a.createElement(F.a,null,a)),r.a.createElement(H.a,{className:n.expansionPanelDetail},e[a].map(function(e,t){return r.a.createElement(I,{weekDay:e.weekDay,hour:e.hour,data:e.data,key:e+t})})))})}return r.a.createElement(W.a,{item:!0,sm:12,md:6},r.a.createElement(Y.a,{className:n.paper},r.a.createElement("div",{className:n.actions},r.a.createElement(P.a,{onClick:function(){c.push("/weather")}},r.a.createElement(b.a,null))),r.a.createElement("h1",null,t),o&&o))},V=a(72),G=a(49),z=a.n(G),q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"weather",a="https://api.openweathermap.org/data/2.5/".concat(t,"?q=").concat(e,"&units=metric&APPID=").concat("ea0b23131c72bacfe9c361211bb6ea7f");return fetch(a).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){throw e})},J=function(e){var t=e.wind.speed,a=e.main,n=a.humidity,r=a.temp,c=e.weather;return{humidity:n,weatherState:X(c),temperature:r,wind:"".concat(t,"m/s")}},X=function(e){var t=Object(V.a)(e,1)[0];return{main:t.main,description:t.description,icon:t.icon}},$=function(e){return function(t){console.log(e),q(e,"forecast").then(function(a){var n=a.list.filter(function(e){return 6===z.a.unix(e.dt).utc().hour()||12===z.a.unix(e.dt).utc().hour()||18===z.a.unix(e.dt).utc().hour()}).map(function(e){return{weekDay:z.a.unix(e.dt).format("ddd"),hour:z.a.unix(e.dt).hour(),data:{temperature:e.main.temp,wind:e.wind.speed,humidity:e.main.humidity,weatherState:X(e.weather)}}});t(function(e){return{type:"SET_FORECAST_DATA",payload:e}}({city:e,forecastExtend:n}))}).catch(function(e){return console.log("".concat(e))})}},K=function(e){return{type:"ADD_CITY",payload:e}},Q=function(e){return function(t){t({type:"SEARCH_CITY_START"}),function(e){var t="https://api.teleport.org/api/cities/?search=".concat(e);return fetch(t).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){return console.log(e)})}(e).then(function(e){var a=e._embedded["city:search-results"].map(function(e){var t=e.matching_full_name.split(",");return t[0]+","+t[t.length-1].split("(")[0]});t(function(e){return{type:"SEARCH_CITY_SUCCESS",payload:e}}(a))}).catch(function(e){return t({type:"SEARCH_CITY_FAIL",payload:e})})}},Z=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.city;this.props.availableCities.indexOf(e)>=0?this.props.getForecast(e):this.props.history.replace("/forecast?find=".concat(e))}},{key:"componentDidUpdate",value:function(){if(this.props.forecastExtendedData[0]!==this.props.match.params.city){console.log("deberia actualizar");var e=this.props.match.params.city;this.props.getForecast(e)}}},{key:"render",value:function(){var e=this.props.match.params.city;return r.a.createElement(B,{city:e,forecastExtendedData:this.props.forecastExtendedData})}}]),t}(n.Component),ee=Object(l.b)(function(e){return{forecastExtendedData:e.extendedForecastReducer,availableCities:e.cityReducer.cities}},function(e){return{getForecast:function(t){return e($(t))}}})(Object(s.i)(Z)),te=a(185),ae=Object(w.a)(function(e){return{root:{width:"100%",padding:"2rem"},actions:{textAlign:"left"},message:{textAlign:"center"}}});function ne(){var e=ae(),t=new URLSearchParams(Object(s.h)().search).get("find"),a=Object(s.g)(),n=r.a.createElement(s.a,{to:"weather"});return t&&(n=r.a.createElement("div",{className:e.message},r.a.createElement("h1",null,' Do you like to find "',t,'" ?'),r.a.createElement(te.a,{variant:"contained",color:"primary",onClick:function(){console.log("click"),a.push("/weather?find=".concat(t))}},"Find it !"))),r.a.createElement(W.a,{item:!0,sm:12,md:8},r.a.createElement(Y.a,{className:e.root},r.a.createElement("div",{className:e.actions},r.a.createElement(P.a,{onClick:function(){a.push("/weather")}},r.a.createElement(b.a,null))),n))}var re=function(e){return e.cities,r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/forecast",exact:!0},r.a.createElement(ne,null)),r.a.createElement(s.b,{path:"/forecast/:city"},r.a.createElement(ee,null)),r.a.createElement(s.b,{path:"*"},"Ups, not mach for that!"))},ce=a(13),oe=a.n(ce),le=a(99),ie=a.n(le),se=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).headleClick=function(){var e="/forecast/".concat(a.props.city);console.log(a.props.history.replace(e))},a.onDelete=function(e){e.stopPropagation(),a.props.onDelete()},a.componentWillMount=function(){q(a.props.city).then(function(e){var t=J(e);a.setState({data:t})})},a.render=function(){var e=a.props.city,t=a.state.data;return r.a.createElement(A.a,{style:{marginBottom:"1.5rem"},onClick:a.headleClick},r.a.createElement(_.a,{title:e,action:a.props.onDelete&&r.a.createElement(P.a,{"aria-label":"settings",onClick:a.onDelete},r.a.createElement(ie.a,{color:"secondary"}))}),r.a.createElement(R.a,null,t?r.a.createElement(k,{data:t}):r.a.createElement("p",null,"cargando")))},a.state={data:null},a}return Object(h.a)(t,e),t}(n.Component),ue=Object(s.i)(se),me=a(204),de=a(189),pe=a(187),he=a(188),fe=a(186);function Ee(e){var t=e.show,a=e.city,n=e.onSubmit,c=e.onCancel;return r.a.createElement("div",null,r.a.createElement(me.a,{open:t,onClose:c,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(fe.a,{id:"alert-dialog-title"},"Are you sure to delete this location ?"),r.a.createElement(pe.a,null,r.a.createElement(he.a,{id:"alert-dialog-description"},a)),r.a.createElement(de.a,null,r.a.createElement(te.a,{onClick:c,color:"primary"},"Disagree"),r.a.createElement(te.a,{onClick:n,color:"primary",autoFocus:!0},"Agree"))))}var ye=a(69),be=a.n(ye),ge=a(190);function ve(e){return r.a.createElement("div",{className:""},r.a.createElement(ge.a,{color:"primary",variant:"extended","aria-label":"add",onClick:function(){e.showModal()}},r.a.createElement(be.a,null)," NEW"))}var we=a(207),Ce=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={showModal:!1,deleteItem:null},a.modalSubmit=function(){a.setState({showModal:!1}),a.props.deleteCity(a.state.deleteItem)},a.modalCancel=function(){console.log("cancelado"),a.setState({showModal:!1,deleteItem:!1})},a.setDeleteItem=function(e){a.setState({deleteItem:e,showModal:!0})},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.cities,n=t.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,{item:!0,xs:12,md:6},r.a.createElement(Y.a,{className:n.paper},a.map(function(t,a){return r.a.createElement(ue,{key:t+a,city:t,onDelete:a>0?function(){return e.setDeleteItem(a)}:null})}),r.a.createElement(ve,{showModal:this.props.showModal}))),r.a.createElement(Ee,{show:this.state.showModal,onSubmit:this.modalSubmit,onCancel:this.modalCancel,city:a[this.state.deleteItem]}))}}]),t}(n.Component),Oe=Object(we.a)(function(e){return{paper:{padding:"1rem",textAlign:"center"}}})(Ce),je=a(202),Se=a(191),xe=a(192),De=a(193),ke=a(194),Ae=Object(w.a)(function(e){return{root:{textAlign:"center"},spinner:{padding:"1rem",margin:"1rem"}}});function _e(e){var t=Ae();return r.a.createElement(r.a.Fragment,null,r.a.createElement(me.a,{open:e.open,"aria-labelledby":"form-dialog-title",className:t.root},r.a.createElement(fe.a,{id:"form-dialog-title"},"New location"),r.a.createElement(pe.a,null,r.a.createElement(je.a,{autoFocus:!0,defaultValue:e.findValue?e.findValue:"",placeholder:" ej. Buenos Aires",margin:"dense",id:"city",label:"find",type:"text",onChange:function(t){var a=t.target.value;if(a.trim().length<3)return null;setTimeout(function(){e.searchCity(a)},200)},fullWidth:!0}),e.isLoading&&r.a.createElement(T.a,{className:t.spinner}),e.searchResults&&r.a.createElement(Se.a,{component:"nav","aria-label":"main mailbox folders"},e.searchResults.map(function(t,a){return r.a.createElement(xe.a,{button:!0,onClick:function(){return function(t){e.addCity(e.searchResults[t]),e.hide()}(a)},key:t+a},r.a.createElement(De.a,null,r.a.createElement(be.a,null)),r.a.createElement(ke.a,{primary:t}))}))),r.a.createElement(de.a,null,r.a.createElement(te.a,{onClick:function(){e.findValue&&window.history.pushState("","","/weather"),e.hide()},color:"primary"},"Cancel"))))}var Re=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleSelectionLocation=function(e){a.props.dispatchsetCity(e)},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.cities.length<1&&this.props.setUserLocation();var e=new URLSearchParams(this.props.location.search).get("find");e&&(this.props.onShowModal(),this.props.searchCity(e))}},{key:"render",value:function(){var e=new URLSearchParams(this.props.location.search).get("find");return r.a.createElement(r.a.Fragment,null,r.a.createElement(Oe,{cities:this.props.cities,showModal:this.props.onShowModal,deleteCity:this.props.onDeleteCity}),r.a.createElement(_e,{open:this.props.showModal,searchCity:this.props.searchCity,isLoading:this.props.isLoading,searchResults:this.props.searchResults,addCity:this.props.addCity,hide:this.props.onHideModal,findValue:e||null}))}}]),t}(n.Component);Re.propsType={setCity:oe.a.func.isRequired};var Me=Object(l.b)(function(e){var t=e.cityReducer;return{cities:t.cities,isLoading:t.isLoading,searchResults:t.searchResults,showModal:t.showModal}},function(e){return{setUserLocation:function(){return e(function(e){fetch("https://ipapi.co/json/").then(function(e){return e.json()}).then(function(t){var a=[t.city,t.country_name].join(", ");e(K(a)),e($(a))})})},searchCity:function(t){return e(Q(t))},onShowModal:function(){return e({type:"SHOW_SEARCH_MODAL"})},onHideModal:function(){return e({type:"HIDE_SEARCH_MODAL"})},addCity:function(t){return e(K(t))},onDeleteCity:function(t){return e(function(e){return{type:"DELETE_CITY",payload:e}}(t))}}})(Object(s.i)(Re)),Ie=a(195),Te=a(196),Ne=Object(w.a)(function(e){return{root:{},Header:{height:"100px",display:"flex",justifyContent:"center"},large:{width:e.spacing(10),height:e.spacing(10)}}});function Le(){var e=Ne();return r.a.createElement("div",{className:e.root},r.a.createElement("div",{className:e.Header},r.a.createElement(Ie.a,{alt:"Remy Sharp",src:"https://cdn5.vectorstock.com/i/1000x1000/66/14/default-avatar-photo-placeholder-profile-picture-vector-21806614.jpg",className:e.large})),r.a.createElement(A.a,null,r.a.createElement(R.a,null,r.a.createElement(F.a,{className:e.title,color:"textSecondary",gutterBottom:!0},"Word of the Day"),r.a.createElement(F.a,{className:e.pos,color:"textSecondary"},"adjective"),r.a.createElement(F.a,{variant:"body2",component:"p"},"well meaning and kindly.",r.a.createElement("br",null),'"a benevolent smile"')),r.a.createElement(Te.a,null,r.a.createElement(te.a,{size:"small"},"Learn More"))))}function Fe(){return r.a.createElement("div",null,r.a.createElement(Le,null))}function He(){return r.a.createElement(s.b,{path:"/user"},r.a.createElement(Fe,null))}var We=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.b,{path:"/weather",exact:!0},r.a.createElement(Me,null)))},Ye=function(){return r.a.createElement("h1",null,"not found")};function Pe(e){var t=r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/",exact:!0},r.a.createElement(s.a,{to:"/weather"})),r.a.createElement(s.b,{path:"/weather"},r.a.createElement(We,null)),r.a.createElement(s.b,{path:"/forecast"},r.a.createElement(re,null)),r.a.createElement(s.b,{path:"/user"},r.a.createElement(He,null)),r.a.createElement(s.b,{path:"*"},r.a.createElement(Ye,null)));return e.isAuth&&(t=r.a.createElement(r.a.Fragment,null,r.a.createElement(s.b,{path:"/weather"},r.a.createElement(Me,null)),r.a.createElement(re,null),r.a.createElement(He,null),r.a.createElement(s.a,{from:"/",to:"/weather"}),r.a.createElement(s.b,{path:"*"},r.a.createElement("h1",null,"404")))),t}var Ue=a(200),Be=a(197),Ve=a(198),Ge=a(140),ze=a(199),qe=Object(w.a)(function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}});function Je(){var e=r.a.useState(null),t=Object(V.a)(e,2),a=t[0],n=t[1],c=function(){n(null)},o=function(){alert("Coming Soon"),c()},l=qe();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Be.a,{position:"static"},r.a.createElement(Ve.a,null,r.a.createElement(F.a,{variant:"h6",className:l.title},"WeatherApp"),r.a.createElement(te.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){n(e.currentTarget)},variant:"contained",color:"primary"},"Menu"),r.a.createElement(Ge.a,{id:"simple-menu",anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:c},r.a.createElement(ze.a,{onClick:o},"Profile"),r.a.createElement(ze.a,{onClick:o},"My account"),r.a.createElement(ze.a,{onClick:o},"Logout")))))}a(137);var Xe=Object(w.a)(function(e){return{root:{flexGrow:1},container:{marginTop:"80px"}}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var $e=a(38),Ke=a(100),Qe=a(24),Ze={selectedCity:null,cities:[],searchResults:[],isLoading:!1,showModal:!1},et=Object($e.c)({cityReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CITY!":return Object(Qe.a)({},e,{selectedCity:t.payload});case"ADD_CITY":var a=[].concat(Object(E.a)(e.cities),[t.payload]);return Object(Qe.a)({},e,{cities:a});case"SEARCH_CITY_START":return Object(Qe.a)({},e,{isLoading:!0});case"SEARCH_CITY_FAIL":return Object(Qe.a)({},e,{isLoading:!1});case"SEARCH_CITY_SUCCESS":return Object(Qe.a)({},e,{isLoading:!1,searchResults:t.payload});case"SHOW_SEARCH_MODAL":return Object(Qe.a)({},e,{showModal:!0,searchResults:[]});case"HIDE_SEARCH_MODAL":return Object(Qe.a)({},e,{showModal:!1,searchResults:[]});case"DELETE_CITY":return a=e.cities.filter(function(e,a){return a!==t.payload}),e.selectedCity===e.cities[t.payload]?Object(Qe.a)({},e,{cities:a,selectedCity:e.cities[0]}):0===e.cities.length?Object(Qe.a)({},e,{cities:a,selectedCity:null}):Object(Qe.a)({},e,{cities:a});default:return e}},extendedForecastReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FORECAST_DATA":var a=t.payload;return[a.city,a.forecastExtend];default:return e}}}),tt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||$e.d,at=Object($e.e)(et,tt(Object($e.a)(Ke.a)));o.a.render(r.a.createElement(l.a,{store:at},r.a.createElement(function(e){var t=Xe();return r.a.createElement(i.a,{basename:"/wheatherApp"},r.a.createElement("div",{className:t.root},r.a.createElement(Je,null),r.a.createElement(Ue.a,{className:t.container,maxWidth:"md"},r.a.createElement(W.a,{container:!0,spacing:3},r.a.createElement(Pe,null)))))},null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[111,2,1]]]);
//# sourceMappingURL=main.eeb142da.chunk.js.map